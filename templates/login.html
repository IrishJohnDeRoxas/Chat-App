{% extends 'base.html' %}
{% block content %}
{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category,  message in messages %}
        <div class="container mt-5 position-absolute top-10 start-50 translate-middle">
            <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                <strong>{{ message }}</strong>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div> 
        </div>
        {% endfor %}
    {% endif %}
{% endwith %}
<div class="min-vh-100 d-flex justify-content-center align-items-center">
    <div class="container w-auto bg-light rounded-3 border border-1 p-5 mb-5">
        <form method="POST" action="">
            {{ form.hidden_tag() }}
            <div class="mb-5 h1 text-center ">
                Flask Chat App
            </div>
            {% if form.errors %}
                {% for error in form.errors %}
                    <div class="alert alert-warning alert-dismissible fade show">
                        {{error}}
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>                    
                {% endfor %}
            {% endif %}
            <div class="mb-3 form-group">
                {{form.username.label}}
                {{form.username(class="form-control", placeholder='Enter Username')}}
            </div>
            <div class="mb-3 form-group">
                {{form.password.label}}
                {{form.password(class="form-control", placeholder='Enter Password')}}
            </div>
            <div class="mb-3 form-group d-flex justify-content-center">
                {{form.login(class='btn btn-primary w-50')}}
            </div>
            <div class="mb-3 d-flex justify-content-center">
                <a href="{{url_for('main.signUp')}}">Sign-up</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}