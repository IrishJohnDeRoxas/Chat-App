{% extends 'base.html' %}
{% block content %}
<div class="min-vh-100 d-flex justify-content-center align-items-center">
    <div class="container w-auto bg-light rounded-3 border border-1 p-5 mb-5">
        <form method="POST" action="" class="form-horizontal">
            {{ form.hidden_tag() }}
            <div class="mb-5 h1 text-center ">
                Flask Chat App (Sign-Up)
            </div>
            <div class="mb-3 form-group">
                {{form.first_name.label}}    
                {{form.first_name(class="form-control")}}
            </div>
            <div class="mb-3 form-group">
                {{form.last_name.label}}
                {{form.last_name(class="form-control")}}
            </div>
            <div class="mb-3 form-group">
                {{form.age.label}}
                {{form.age(class="form-control w-25")}}
            </div>
            {% if username_error %}
                {% for category, message in username_error.items() %}
                    <div class="alert alert-{{category}} alert-dismissible fade show" role="alert">
                        <strong>{{ message }}</strong>
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div> 
                {% endfor %}
            {% endif %}
            <div class="mb-3 form-group">
                {{form.username.label}}
                {{form.username(class="form-control")}}
            </div>
            {% if username_error == False %}
                {% if form.errors %}
                    {% for error in form.errors['password'] %}
                        <div class="alert alert-warning alert-dismissible fade show">
                            {{error}}
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>                    
                    {% endfor %}
                {% endif %}
            {% endif %}
            <div class="mb-3 form-group">
                {{form.password.label}}
                {{form.password(class="form-control")}}
            </div>
            <div class="mb-3 form-group">
                {{form.confirm_password.label}}
                {{form.confirm_password(class="form-control")}}
            </div>
            <div class="mb-3 form-group d-flex justify-content-center">
                {{form.submit(class='btn btn-primary w-50')}}
            </div>
        </form>
    </div>
</div>
{% endblock %}